<<<<<<< HEAD
# ÐŸÑ€Ð¾ÐµÐºÑ‚Ð½Ð¾Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ: ETL

Ð’ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¼ Ð¼Ð¾Ð´ÑƒÐ»Ðµ Ð²Ñ‹ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ñ‹Ð²Ð°Ð»Ð¸ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼ Ð´Ð»Ñ Ð¿Ð¾Ð»Ð½Ð¾Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾ Ð¿Ð¾Ð¸ÑÐºÐ°. Ð¢ÐµÐ¿ÐµÑ€ÑŒ ÑƒÐ»ÑƒÑ‡ÑˆÐ¸Ð¼ ÐµÐ³Ð¾: Ð½Ð°ÑƒÑ‡Ð¸Ð¼ ÐµÐ³Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ñ Ð½Ð¾Ð²Ð¾Ð¹ ÑÑ…ÐµÐ¼Ð¾Ð¹ Ð¸ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð´Ð»Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ.

## ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ¸

ÐŸÐµÑ€ÐµÐ´ Ñ‚ÐµÐ¼ ÐºÐ°Ðº Ð²Ñ‹ Ð¿Ñ€Ð¸ÑÑ‚ÑƒÐ¿Ð¸Ñ‚Ðµ Ðº Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸ÑŽ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ, Ð´Ð°Ð´Ð¸Ð¼ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ð´ÑÐºÐ°Ð·Ð¾Ðº:

1. ÐŸÑ€ÐµÐ¶Ð´Ðµ Ñ‡ÐµÐ¼ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÑ‚ÑŒ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ, Ð¿Ð¾Ð´ÑƒÐ¼Ð°Ð¹Ñ‚Ðµ, ÑÐºÐ¾Ð»ÑŒÐºÐ¾ ETL-Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð² Ð²Ð°Ð¼ Ð½ÑƒÐ¶Ð½Ð¾.
2. Ð”Ð»Ñ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸ ÐºÐ¾Ð½Ñ„Ð¸Ð³Ð° ÑÐ¾Ð²ÐµÑ‚ÑƒÐµÐ¼ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ pydantic.
3. Ð”Ð»Ñ Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ ETL-Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÐ¾Ñ€ÑƒÑ‚Ð¸Ð½Ñ‹.
4. Ð§Ñ‚Ð¾Ð±Ñ‹ ÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð¿Ð°Ð´ÐµÐ½Ð¸Ñ Postgres Ð¸Ð»Ð¸ Elasticsearch, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ñ Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ¾Ð¹ `backoff` Ð¸Ð»Ð¸ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ð´Ð½Ð¾Ð¸Ð¼Ñ‘Ð½Ð½ÑƒÑŽ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÑƒ.
5. Ð’Ð°ÑˆÐµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð´Ð¾Ð»Ð¶Ð½Ð¾ ÑƒÐ¼ÐµÑ‚ÑŒ Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚ Ð¸ Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ‚ÑŒ Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ñ Ñ‚Ð¾Ð³Ð¾ Ð¼ÐµÑÑ‚Ð°, Ð³Ð´Ðµ Ð¾Ð½Ð¾ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ð»Ð¾ ÑÐ²Ð¾ÑŽ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ.
6. ÐŸÑ€Ð¸ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ ETL-Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ° Ð¿Ð¾Ð´ÑƒÐ¼Ð°Ð¹Ñ‚Ðµ, ÐºÐ°ÐºÐ¸Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð½ÑƒÐ¶Ð½Ñ‹ Ð´Ð»Ñ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ. Ð¡Ñ‚Ð°Ñ€Ð°Ð¹Ñ‚ÐµÑÑŒ Ð¾ÑÑ‚Ð°Ð²Ð»ÑÑ‚ÑŒ Ð² ÐºÐ¾Ð´Ðµ ÐºÐ°Ðº Ð¼Ð¾Ð¶Ð½Ð¾ Ð¼ÐµÐ½ÑŒÑˆÐµ Â«Ð¼Ð°Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ñ…Â» Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹.
7. Ð–ÐµÐ»Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾, Ð½Ð¾ Ð½ÐµÐ¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ ÑÐ¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² Ð‘Ð” Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ð¾Ð±Ð¾Ð±Ñ‰Ñ‘Ð½Ð½Ñ‹Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ðµ Ð¿Ñ€Ð¸ÑˆÐ»Ð¾ÑÑŒ Ð¿Ð¾ÑÑ‚Ð¾ÑÐ½Ð½Ð¾ Ð´ÑƒÐ±Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð´. ÐŸÑ€Ð¸ Ð¾Ð±Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¸ Ð½Ðµ Ð·Ð°Ð±Ñ‹Ð²Ð°Ð¹Ñ‚Ðµ Ð¾ Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾ Ð²ÑÐµ Ð¿ÐµÑ€ÐµÐ´Ð°Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð² Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°Ñ… Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÑÐºÑ€Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ.
8. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ‚Ð°Ð¹Ð¿Ð¸Ð½Ð³Ð¾Ð² Ð¿Ð¾Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ¾ÐºÑ€Ð°Ñ‚Ð¸Ñ‚ÑŒ Ð²Ñ€ÐµÐ¼Ñ Ð´ÐµÐ±Ð°Ð³Ð° Ð¸ Ð¿Ð¾Ð²Ñ‹ÑÐ¸Ñ‚ÑŒ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð´Ð° Ñ€ÐµÐ²ÑŒÑŽÐµÑ€Ð°Ð¼Ð¸, Ð° Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð±ÑƒÐ´ÑƒÑ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒÑÑ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ :)
9. ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð´ÐµÐ»Ð°ÑŽÑ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð² ÐºÐ¾Ð´Ðµ.
10. Ð”Ð»Ñ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ `logging` Ð¸Ð· ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð¹ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ Python.

Ð–ÐµÐ»Ð°ÐµÐ¼ Ð²Ð°Ð¼ ÑƒÐ´Ð°Ñ‡Ð¸ Ð² Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð¸Ð¸ ETL! Ð’Ñ‹ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÐµÑÑŒ ðŸ’ª 

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð·Ð°Ð»ÐµÐ¹Ñ‚Ðµ Ð² Ð¿Ð°Ð¿ÐºÑƒ `postgres_to_es` Ð²Ð°ÑˆÐµÐ³Ð¾ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ.**
=======
# Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ

Ð’ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð²Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°ÐµÐ¼ Ñ€Ð°ÑÑˆÐ¸Ñ€Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Â«ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°Â»: Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· WSGI/ASGI, Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ð´Ð°Ñ‡Ñƒ ÑÑ‚Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð² Ñ‡ÐµÑ€ÐµÐ· Nginx Ð¸ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¸Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Docker. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¿ÐµÑ€ÐµÐ½ÐµÑÐ¸Ñ‚Ðµ Ð² Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ ÐºÐ¾Ð´, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð²Ñ‹ Ð½Ð°Ð¿Ð¸ÑÐ°Ð»Ð¸ Ð² Ð¿ÐµÑ€Ð²Ð¾Ð¼ ÑÐ¿Ñ€Ð¸Ð½Ñ‚Ðµ, Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð¸Ð· Ð¿Ð°Ð¿ÐºÐ¸ `tasks`.

## Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸

- ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ Ð¿Ð¾Ð´ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼ ÑÐµÑ€Ð²ÐµÑ€Ð° WSGI/ASGI.
- Ð”Ð»Ñ Ð¾Ñ‚Ð´Ð°Ñ‡Ð¸ [ÑÑ‚Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð²](https://nginx.org/ru/docs/beginners_guide.html#static) Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ **Nginx.**
- Ð’Ð¸Ñ€Ñ‚ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¾ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð»ÑÐµÑ‚ÑÑ Ð² **Docker.**

## ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹

1. **CÐµÑ€Ð²ÐµÑ€ WSGI/ASGI** â€” ÑÐµÑ€Ð²ÐµÑ€ Ñ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð½Ñ‹Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÐµÐ¼.
2. **Nginx** â€” Ð¿Ñ€Ð¾ÐºÑÐ¸-ÑÐµÑ€Ð²ÐµÑ€, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ñ‚Ð¾Ñ‡ÐºÐ¾Ð¹ Ð²Ñ…Ð¾Ð´Ð° Ð´Ð»Ñ web-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ.
3. **PostgreSQL** â€” Ñ€ÐµÐ»ÑÑ†Ð¸Ð¾Ð½Ð½Ð¾Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…. 
4. **ETL** â€” Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¼ÐµÐ¶Ð´Ñƒ PostgreSQL Ð¸ ES.

## Ð¡Ñ…ÐµÐ¼Ð° ÑÐµÑ€Ð²Ð¸ÑÐ°

![all](images/all.png)

## Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ Ðº Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñƒ

1. ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð¾ Ñ‡ÐµÑ€ÐµÐ· WSGI/ASGI.
2. Ð’ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ Ð½Ð°Ñ…Ð¾Ð´ÑÑ‚ÑÑ Ð² Docker.
3. ÐžÑ‚Ð´Ð°Ñ‡Ð° ÑÑ‚Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¾ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð»ÑÐµÑ‚ÑÑ Ð·Ð° ÑÑ‡Ñ‘Ñ‚ Nginx.

## Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ðº Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñƒ

1. Ð”Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ WSGI/ASGI-ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÑŽÐ·ÐµÑ€Ð°.
2. Ð”Ð»Ñ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð¼ÐµÐ¶Ð´Ñƒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°Ð¼Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ docker compose.
>>>>>>> remote1/main
